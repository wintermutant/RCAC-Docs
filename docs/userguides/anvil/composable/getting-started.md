## Introduction

Provide the intuition for what this is and why people would use it.

## How to Access the Anvil Composable Subsystem

There are 3 options to accessing and working with Anvil Composable:

* Rancher (GUI)
* kubectl (command line)
* Harbor

## Rancher

The Anvil Composable Subsystem Rancher interface can be accessed via a web browser at https://composable.anvil.rcac.purdue.edu. Log in by choosing "log in with shibboleth" and using your ACCESS credentials at the ACCESS login screen.

## kubectl

### Configuring local kubectl access with Kubeconfig file:

kubectl can be installed and run on your local machine to perform various actions against the Kubernetes cluster using the API server.

These tools authenticate to Kubernetes using information stored in a kubeconfig file.

!!! note
    A file that is used to configure access to a cluster is sometimes called a kubeconfig file. This is a generic way of referring to configuration files. It does not mean that there is a file named kubeconfig.

To authenticate to the Anvil cluster you can download a kubeconfig file that is generated by Rancher as well as the kubectl tool binary.

1. From anywhere in the rancher UI navigate to the cluster dashboard by hovering over the box to the right of the cattle and selecting anvil under the "Clusters" banner.
   1. Click on kubeconfig file at the top right
   2. Click copy to clipboard
   3. Create a hidden folder called .kube in your home directory
   4. Copy the contents of your kubeconfig file from step 2 to a file called config in the newly create .kube directory
2. You can now issue commands using kubectl against the Anvil Rancher cluster
   1. to look at the current config settings we just set use kubectl config view
   2. now letâ€™s list the available resource types present in the API with kubectl api-resources


To see more options of kubectl review the cheatsheet found on [Kubernetes' kubectl cheatsheet](https://kubernetes.io/docs/reference/kubectl/cheatsheet/).

### Accessing kubectl in the rancher web UI

You can launch a kubectl command window from within the Rancher UI by selecting the Launch kubectl button to the left of the Kubeconfig File button. This will deploy a container in the cluster with kubectl installed and give you an interactive window to use the command from.

## Harbor

### Logging into the Anvil Registry UI with ACCESS credentials

Harbor is configured to use ACCESS as an OpenID Connect (OIDC) authentication provider. This allows you to login using your ACCESS credentials.

To login to the harbor registry using your ACCESS credentials:

1. Navigate to https://registry.anvil.rcac.purdue.edu in your favorite web browser.
2. Click the Login via OIDC Provider button.
   1. This redirects you to the ACCESS account for authentication.
3. If this is the first time that you are logging in to Harbor with OIDC, specify a user name for Harbor to associate with your OIDC username.
   1. This is the user name by which you are identified in Harbor, which is used when adding you to projects, assigning roles, and so on. If the username is already taken, you are prompted to choose another one.
4. After the OIDC provider has authenticated you, you are redirected back to the Anvil Harbor Registry.